<!DOCTYPE html>
<html ng-app="mainApp">
    <head>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <link rel="stylesheet" href="app.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
        <link rel="stylesheet" href="fontawesome-free-6.2.0-web/css/fontawesome.min.css">
        <link rel="stylesheet" href="fontawesome-free-6.2.0-web/css/solid.min.css">
        <link rel="stylesheet" href="fontawesome-free-6.2.0-web/css/brands.min.css">
        <script type="module" src="https://unpkg.com/@google/model-viewer@1.12.1/dist/model-viewer.min.js"></script>
        <style>
            
        </style>



    </head>
    <body ng-controller="mainCtrl" ng-init="status.storyUploaded = false">
        <canvas id="background-canvas"></canvas>
        <div id="backgroundContainer">
            <div class="layer" id="layer1">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </div>
            <div class="layer" id="layer2">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </div>
            <div class="layer" id="layer3">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </div>
        </div>
        <img id="bg-img1" src="Images/Vector Smart Object 10.png" hidden>
        <img id="bg-img2" src="Images/Vector Smart Object 2.png" hidden>
        <img id="bg-img3" src="Images/Vector Smart Object 3.png" hidden>
        <img id="bg-img4" src="Images/Vector Smart Object 4.png" hidden>
        <img id="bg-img5" src="Images/Vector Smart Object 7.png" hidden>
        <img id="bg-img6" src="Images/Vector Smart Object 8.png" hidden>
        <img id="bg-img7" src="Images/Vector Smart Object 9.png" hidden>
        <img id="bg-img8" src="Images/Vector Smart Object 5.png" hidden>
        <img id="bg-img9" src="Images/Vector Smart Object 6.png" hidden>


        <div class="video-container">
            <video autoplay muted>
                <source src="https://thinktreemedia.in/MPL-Certificate/videos/Scroll%20down_5%20sec_wide_without_text.mp4">
            </video>
        </div>
        <div class="header container-fluid fixed-top">
            <div class="row">
                <div class="col col-lg-1 col-md-2 col-3 text-center"><img class="logo" src="Images/image 8-logo.png"></div>
                <div class="col"></div>
                <div class="col col-lg-3 col-md-4 col-6 text-center dropdown">
                    <div class="row">
                    <div class="col text-end d-flex align-items-center justify-content-end"><button class="btn-custom dropdown-toggle me-3" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <span class="fa-solid fa-user"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <span class="d-flex align-items-center" ng-if="!isAuthenticated">
                            <a class="dropdown-item" onclick="openSignIn()">Login</a> or <a class="dropdown-item" onclick="openSignInRegister()">Register</a>
                        </span>
                        <span class="" ng-if="isAuthenticated">
                            <p class="ms-3 mb-1">Hi <span ng-bind="user.firstName"></span></p>
                            <a class="dropdown-item">Logout</a>
                        </span>
                    </li>
                  </ul>
                  <div class="text-end">
                    <a class="btn-custom-red">Pre-order your Jersey</a>
                </div>
                </div>
                
            </div>
                </div>
            </div>
            
        </div>
        <div class="slide container-fluid d-flex align-items-center" id="slide-1">
            <div class="row w-100">
                <div class="col col-lg-6 col-md-12 col-sm-12 col-xs-12 col-12 d-flex align-items-end" ng-controller="jerseyStory">
                    <div class="intro-text w-100">
                        <div class="story-grid">
                            <div class="jersey-story-container">
                            <div class="story" ng-repeat="story in stories">
                                <a tabindex="0" class="story-btn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-content="<p class='normal-text'>{{story.name}}</p><img class='story-img' src='{{story.url}}'><p>{{story.message}}</p>"><span><img class="btn-profilepic" ng-src="{{story.profilepic}}"></span></a>
                            </div>
                            <div class="user-story" ng-model="userStory">
                                <a tabindex="0" class="story-btn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-content="<p class='normal-text'>{{user.firstName}} {{user.lastName}}</p><img class='story-img' src='{{user.url}}'><p>{{user.message}}</p>"><span><img class="btn-profilepic" ng-src="{{user.profilepic}}"></span></a>
                            </div>
                            <div class="jersey-wrapper">
                                <!--<img class="jersey-img jersey-center" id="jerseyImage" src="Images/Jerseyjersey.png">-->
                                <model-viewer id="jersey" class="jersey-center" src="Images/jersey.glb" ar ar-modes="webxr scene-viewer quick-look" camera-controls shadow-intensity="1">
                                    <button class="Hotspot" slot="hotspot-1" data-position="0.09161191554755753m 0.1845461504434246m 0.08980683743821333m" data-normal="0.21365510346848038m 0.4789560311320081m 0.8514414935884601m" data-visibility-attribute="visible">
                                        <div class="HotspotAnnotation">Story #1</div>
                                    </button><button class="Hotspot" slot="hotspot-2" data-position="-0.12342518775445016m 0.05063090850494367m 0.1163755273019689m" data-normal="-0.5146158343074769m 0.06350082422029393m 0.8550661894867337m" data-visibility-attribute="visible">
                                        <div class="HotspotAnnotation">Story #2</div>
                                    </button>
                                </model-viewer>                                
                            </div>
                            <div class="story-arrow-message">
                                <div class="text-end">
                                    <p>Thank you for<br>your contribution</p>
                                </div>
                                <div>
                                    <img class="message-arrow" src="Images/Group 3-arrow.png">
                                </div>
                            </div>
                        </div>
                            <div class="progress-container animate__animated">
                            <span class="progress-tracker" style="left:60%">
                                60%
                            </span>
                            <div class="progress">
                                
                                <span class="progress-overlay" style="width:60%"></span>
                                
                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width:60%">
                                </div>
                              </div>
                              <p class="normal-text">Lorem ipsum sit det something</p>
                            </div>
                            
                        </div>
                        
               
                        <div class="landing-main-text animate__animated" id="landingMainText">
                            <img src="Images/Har Fan Ki Jersey 2.png">
                        </div>
                    </div>
                    <div class="animate__animated" id="landingSubtitle">
                        <p class="big-text landing-subtitle color-dblue">CALLING EVERY <span class="color-lblue" id="changeText">DIE-HARD</span> CRICKET FAN<br><span class="big-text2">TO BE A PART OF THE NEW TEAM INDIA JERSEY.</span></p>
                    </div>
                </div>
                <div class="col col-lg-6 col-md-12 col-sm-12 col-xs-12 col-12 d-flex align-items-center text-center">
                    <div class="w-100 animate__animated" id="slide-t-1" ng-if="!storyUploaded">
                        <div class="text-wrapper text-center first__animate animate__animated animate__delay-1s">
                            <h2 class="big-text color-dblue">SHOW YOUR <span class="color-lblue">FANDOM</span></h2>
                        </div>

                        <div class="text-wrapper text-center first__animate animate__animated animate__delay-2s">

                            <h2><span class="normal-text">Bring the jersey to life with your story.</span></h2><br>
                            <p class="normal-text mb-3">Tell us why you are a fan of the game and be a part of the official team India T20 digital jersey. <br><br>Every 1,000th entry will unveil a part of the jersey.

                             
                        </div>
                        
                   
                        <div class="text-center first__animate animate__animated animate__delay-3s">
                            <button class="btn-custom" ng-click="firstToSecondAnim()">Find Out How</button>
                        </div>                        
                    </div>
                    <div class="w-100 animate__animated" id="slide-t-2" ng-if="!storyUploaded">
                        <div class="text-center">
                            <div class="text-wrapper first__animate animate__animated animate__delay-1s">
                                <h2 class="color-dblue big-text">CLICK ON THE <span class="color-lblue">JERSEY</span></h2>
                                    <p class="text-center normal-text mb-2">to check out some unheard fan stories.</p>
                            </div> <br>

                            <div class="text-wrapper second__animate animate__animated animate__delay-1s">
                                <h2 class="color-dblue big-text2">SHARE & <span class="color-lblue">WIN</span></h2>
                            </div>


                            <div class="card-container text-end second__animate animate__animated animate__delay-1s mb-4">
                                <div class="s-1-card">
                                    <img style="width: 25%;" src="images/output-onlinegiftools.gif">
                                    <p class="s1-card-text">Certificate of appreciation from BCCI & MPL Sports</p> </div>
                                <div class="s-1-card">
                                    <img style="width: 25%;" src="images/output-onlinegiftools (4).gif">
                                    <p class="s1-card-text">2 India vs Australia match tickets </p>
                                </div>
                               
                                <div class="s-1-card">
                                    <img style="width: 25%;" src="images/output-onlinegiftools (3).gif">
                                    <p class="s1-card-text">Invitation to jersey launch event</p>
                                </div>

                                <div class="s-1-card">
                                    <img style="width: 25%;" src="images/output-onlinegiftools (2).gif">
                                    <p class="s1-card-text">Discount coupons & vouchers</p>
                                </div>

                            </div>



                            <button class="btn-custom second__animate animate__animated animate__delay-2s" ng-click="checkForUploadForm()">Upload your story</button>
                            <!--<div class="steps-wrapper row text-center">
                                <div class="col"><p>Step 1</p></div>
                                <div class="col"><p>Step 2</p></div>
                                <div class="col"><p>Step 3</p></div>
                                <div class="col"><p>Step 4</p></div>
                            </div>-->
                        </div>
                    </div>
                    <div class="w-100 animate__animated" id="slide-t-3" ng-if="isAuthenticated && storyUploaded">
                        <div>
                            <div class="text-wrapper text-center third__animate animate__animated animate__delay-1s">
                                <h2 class="big-text mb-4">SHARE. PLAY. <span class="color-lblue">WIN</span>.</h2>
                                <p class="normal-text mb-2">Refer code, get more entries and win rewards
                                </p>
                            </div>
                            <!--<div class="text-end mb-3 third__animate animate__animated animate__delay-2s mb-5">
                                <div class="d-flex align-items-center justify-content-center">
                                    <div class="me-3"><p class="code-txt normal-text mb-0" id="referralcode">{{user.referralCode}}</p></div>
                                    <div class=""><button id="ctc-btn" class="btn-custom" data-bs-toggle="tooltip" data-bs-trigger="click" title="Copied to clipboard!" ng-click="trycopyToClipboard()">Copy</button></div>
                                </div>
                                
                            </div>-->
                            <div class="mb-3 mt-3 third__animate animate__animated animate__delay-3s mb-5">
                                <div class="row">
                                    <div class="col">
                                        <div class="share-button-container d-flex align-items-center justify-content-center">
                                            <p class="mb-0 me-4">Share via</p>
                                            <a class="share-icon"><span class="fa-brands fa-facebook"></span></a>
                                            <a class="share-icon"><span class="fa-brands fa-twitter"></span></a>
                                            <a class="share-icon"><span class="fa-brands fa-whatsapp"></span></a>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                            <div class="text-center mt-3 third__animate animate__animated animate__delay-3s">
                                <div class="row">
                                    <div class="col">
                                        <p class="normal-text mb-3">Check your score on the Superfan Leaderboard
                                        </p>
                         
                                        
                                        <div class="d-flex align-items-center text-center justify-content-center"><button class="btn-custom me-1" onclick="openLeaderboard()">Leaderboard</button></div></div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
                
            </div>
            
        </div>
        <!--<div class="slide container d-flex align-items-center" id="slide-2">
            <div class="slide-align row w-100">
                <div class="slide-left-align col" ng-controller="jerseyStory">
                    
                </div>
                <div class="slide-right-align col">
                    
                </div>
            </div>
        </div>
        <div class="slide container d-flex align-items-center" id="slide-3">
            <div class="slide-align row w-100" ng-controller="userStoryMode">
                <div class="slide-left-align col">
                    <div></div>
                </div>
                <div class="slide-right-align col">
                    
                </div>
            </div>
        </div>-->
        <div class="form-popup popup" id="uploadFormPopup">
            <div class="container d-flex align-items-center h-100">
            <div class="row w-100 justify-content-center">
                <div class="col popup-inner">
                    <div>
                        <h2 class="color-dblue big-text2">Upload your story</h2>
                    </div>
                    <form ng-submit="uploadStory()" class="needs-validation" novalidate>
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" id="toryfirstNameInput" type="text" placeholder="First Name" value="{{user.firstName}}" readonly/>
                            <label for="storyfirstNameInput">First Name</label>
                            
                        </div>
                        
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" id="storylastNameInput" placeholder="Last Name" value="{{user.lastName}}" readonly/>
                            <label for="storylastNameInput">Last Name</label>
                            
                        </div>
                        
                        <div class="form-floating mb-3">
                            
                            <textarea class="form-control" name="" placeholder="Message" id="messageText" ng-model="user.message" required></textarea>
                            <label for="messageText">Type your message</label>
                            <div class="invalid-feedback">We're going to need your support!</div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Upload image</label>
                            <input class="form-control" type="file" required>
                            <div><p class="form-text">File details & restrictions</p></div>
                            <div class="invalid-feedback">Please upload a valid format image</div>
                        </div>
                        <div>
                            <button class="btn-custom" ng-click="storyUp()">Upload Story</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
        <div class="signin-popup popup" id="signInPopup">
            <div class="container d-flex align-items-center h-100">
                <div class="row w-100 justify-content-center">
                    <div class="col popup-inner">
                        <h2 class="mb-5">Sign in</h2>
                        <form class="needs-validate" novalidate>
                            <div class="form-floating mb-3">
                                
                                <input class="form-control" name="" placeholder="userNameLoginInput" id="userNameLoginInput" ng-model="loginuserName" required>
                                <label for="userNameLoginInput">Username</label>
                            </div>
                            
                            <div class="form-floating mb-3">
                                
                                <input class="form-control" type="password" placeholder="Password" id="PasswordLoginInput" ng-model="loginpassword" required>
                                <label for="PasswordLoginInput">Enter a password</label>
                            </div>
                            <div>
                                <button type="submit" class="btn-custom" ng-click="authenticate()">Sign In</button>
                            </div>
                        </form>
                        <div class="mt-5">
                            <hr>
                            <p>Or create an account using</p>
                            <div class="row">
                                <div class="col">
                                    <button class="btn-social btn-custom-fb" ng-click="socialAuthenticate('facebook')"><span class="fa-brands fa-facebook"></span> Sign in with Facebook</button>
                                </div>
                                <div class="col">
                                    <button class="btn-social btn-custom-google" ng-click="socialAuthenticate('google')"><span class="fa-brands fa-google"></span> Sign in with Google</button>
                                </div>
                            </div>
                            
                            
                        </div>
                        
                    </div>
                    
                </div>
            </div>
            
        </div>
        <div class="signin-register-popup popup" id="signinRegisterPopup">
            <div class="container d-flex align-items-center h-100">
            <div class="row w-100 popup-inner">
                <div class="col" ng-controller="socialLoginCtrl">
                    <div>
                        <h2 class="big-text2">Register</h2>
                    </div>
                    <form class="needs-validation" ng-controller="registerCtrl" novalidate>
                        <div class="form-floating mb-3">
                            <input class="form-control" name="" id="firstNameInput" placeholder="First Name" ng-model="registerFirstName" required>
                            <label for="firstNameInput">First Name</label>
                            <div class="invalid-feedback">Required</div>
                        </div>
                        
                        <div class="form-floating mb-3">
                            <input class="form-control" name="" id="lastNameInput" placeholder="Last Name" ng-model="registerLastName" required>
                            <label for="lastNameInput">Last Name</label>
                            <div class="invalid-feedback">Required</div>
                        </div>
                        <div class="form-floating mb-3">
                            
                            <input class="form-control" name="" type="email" placeholder="Email" id="emailInput" ng-model="registerEmail" required>
                            <label for="emailInput">Email</label>
                            <div class="invalid-feedback">Please type out a valid email format</div>
                        </div>
                        <div class="form-floating mb-3">
                            
                            <input class="form-control" name="" type="tel" placeholder="Number" id="numberInput" ng-model="registerNumber" value="+91" required>
                            <label for="numberInput">Number</label>
                            <div class="invalid-feedback">Please type out a valid phone number</div>
                        </div>
                        <div class="form-floating mb-3">
                            
                            <input class="form-control" name="" placeholder="Username" id="userNameInput" ng-model="registerUserName" required>
                            <label for="userNameInput">Username</label>
                            <div class="invalid-feedback">Required</div>
                        </div>
                        <div class="form-floating mb-3">
                            
                            <input class="form-control" name="" placeholder="Password" id="Password" ng-model="registerCode" required>
                            <label for="Password">Enter a password</label>
                            <div class="invalid-feedback">Required</div>
                        </div>
                        <div>
                            <button type="submit" class="btn-custom" ng-click="registerUser()">Register</button>
                        </div>
                        
                    </form>
                </div>              
            </div>
        </div>
        </div>
        <div class="leaderboard popup popup-wide" id="leaderboardPopup" ng-controller="leaderboardCtrl">
            <div class="container d-flex align-items-center h-100">
            <div class="row w-100 popup-inner align-items-center d-flex">
                <div class="col col-12 mb-5">
                    <div class="row w-100 align-items-center">
                        <div class="col">
                            <div class="user-best d-flex align-items-center">
                                <div class="me-1">
                                    <span class="podium-profilepicture-wrapper">
                                        <img class="podium-profilepicture" ng-src="{{user.profilepic}}">
                                    </span></div>
                                <div class="ms-1"><p>Your points</p><p class="text-bold">{{user.firstName}} {{user.lastName}}</p><p>{{user.storyShares}}</p><p>#{{user.position}}</p></div>
                            </div>
                        </div>
                        <div class="col text-center">
                            <h2 class="big-text2 text-end">SUPERFAN<br>LEADERBOARD</h2>
                        </div>
                    </div>
                </div>                
                <div class="col col-12 needs-scroll">
                    <div class="row text-center podium mb-4 align-items-center justify-content-center">
                        <div class="col col-12" ng-model="podium[0]">
                            <div class="podium-wrapper mw-50">
                                <p class="podium-position">1</p>
                                <span class="podium-profilepicture-wrapper">
                                    <img class="podium-profilepicture" ng-src="{{podium[0].picture}}">
                                </span>
                            <p class="podium-name">{{podium[0].name}}</p>

                            <p class="podium-score">{{podium[0].score}}</p>

                            
                            </div>
                        </div>
                        <div class="col col-6" ng-model="podium[1]">
                            <div class="podium-wrapper">
                                <p class="podium-position">2</p>
                                <span class="podium-profilepicture-wrapper">
                                    <img class="podium-profilepicture" ng-src="{{podium[1].picture}}">
                                </span>
                            <p class="podium-name">{{podium[1].name}}</p>

                            <p class="podium-score">{{podium[1].score}}</p>
                            </div>
                        </div>
                        <div class="col col-6" ng-model="podium[2]">
                            <div class="podium-wrapper">
                                <p class="podium-position">3</p>
                                <span class="podium-profilepicture-wrapper">
                                    <img class="podium-profilepicture" ng-src="{{podium[2].picture}}">
                                </span>
                            <p class="podium-name">{{podium[2].name}}</p>

                            <p class="podium-score">{{podium[2].score}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="row text-center score-titles">
                        <div class="col"><p class="bold-text">Position</p></div>
                        <div class="col"><p class="bold-text">Name</p></div>
                        <div class="col"><p class="bold-text">Score</p></div>
                    </div>
                    <div class="">
                    
                    <div ng-repeat="(key,position) in leaderBoard" class="row text-center rest-of-best">
                        <div class="col"><p>{{key + 4}}</p></div>
                        <div class="col"><p>{{position.name}}</p></div>
                        <div class="col"><p>{{position.score}}</p></div>
                    </div>
                    
                </div>
                </div>
                </div>
        </div>
        </div>
        <div class="rewards popup" id="spinWheelPopup">
            <div class="container d-flex align-items-center h-100">
                <div class="row w-100 popup-inner">
                    <div class="row">
                        <div class="text-center mb-3">
                            <h2 class="big-text2">FANDOM SPINNER</h2>
                        </div>
                    </div>
                    <div class="col">
                        <div class="wheel-container mb-3">
                            <div class="wheel-arrow"></div>
                            <div id="wheel" class="wheel">
                            <div class="slice"><p>REWARD #1</p></div>
                            <div class="slice"><p>REWARD #2</p></div>
                            <div class="slice"><p>REWARD #3</p></div>
                            <div class="slice"><p>REWARD #4</p></div>
                            <div class="slice"><p>REWARD #1</p></div>
                            <div class="slice"><p>REWARD #2</p></div>
                            <div class="slice"><p>REWARD #3</p></div>
                            <div class="slice"><p>REWARD #4</p></div>
                            <div class="slice"><p>REWARD #1</p></div>
                            <div class="slice"><p>REWARD #2</p></div>
                            <div class="slice"><p>REWARD #3</p></div>
                            <div class="slice"><p>REWARD #4</p></div>
                        </div>
                        <div class="wheel-rim"></div>
                        </div>
                        <div class="text-center">
                            <button class="btn-custom" onclick="spinTheWheel()">Spin the wheel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="certificatepopup popup" id="certificatePopup">
            <div class="container d-flex align-items-center h-100">
                <div class="row w-100 popup-inner">
                    <div class="row">
                        <div class="text-center mb-3">
                            <h2 class="big-text2">Congratulations!</h2>
                            <h2 class="normal-text">You are now part of this journey</h2>
                        </div>
                    </div>
                    <div class="col col-12">
                        <img class="cert-img mb-3" src="Images/MPL cert.jpg">
                        <div class="text-center mt-3">
                            <button class="btn-custom">Download Certificate</button>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-cookies.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/satellizer/0.15.5/satellizer.min.js"></script>
    <script src="page-script.js"></script>
    <script src="main-app.start.js"></script>
    <script src="jerseyStory.js"></script>
    <script src="leaderboardCtrl.js"></script>
    <script src="socialLoginCtrl.js"></script>
    <script src="formSubmitCtrl.js"></script>
    <script src="background-animate.js"></script>
    <script src=""></script>
</html>